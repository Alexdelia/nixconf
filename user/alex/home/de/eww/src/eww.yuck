(defwindow info_hub
	:monitor 0
	:geometry (geometry
		:x "20px"
		:y "20px"
		:width "20%"
		:height "20%"
		:anchor "top right"
	)
    :stacking "fg"
    ;; :reserve (struts :distance "40px" :side "top")
    :windowtype "dock"
    :wm-ignore false

	(box
		:orientation "horizontal"
		:halign "fill"
		:valign "fill"
		:style "background-color: rgba(255, 0, 0, 0);"

		(info_box
			(time_box)
		)
		(info_box
			(time_box)
		)

		;; (calendar)
	)
)

(defpoll time
	:interval "1m"

	`date +%H:%M`
)

(defwidget info_box []
	(box
		:class "info-box"
		:orientation "vertical"
		:halign "fill"
		:valign "fill"

		(children)
	)
)

(defwidget time_box []
	(box
		:orientation "vertical"
		:halign "center"
		:valign "center"

		"${EWW_TIME}"

		(label
			:text "The time is: "
		)
		(label
			:text time
		)
	)
)

(defwidget greeter [?text name]
	(box
		:orientation "horizontal"
		:halign "center"

		text

		(button
			:onclick "notify-send 'Hello' 'Hello, ${name}'"

			"Greet"
		)
	)
)
